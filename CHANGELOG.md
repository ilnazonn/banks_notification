# Changelog

## [2.0.0] - 2024-01-XX

### Изменено
- **Переход с парсинга HTML на API**: Заменен парсинг сайта `vendista.ru/banks_availability` на работу с API `api.vendista.ru:99/banks/availability`
- **Обновлены типы данных**: Добавлены интерфейсы `BankApiItem` и `BankApiResponse` для работы с новым API
- **Улучшена обработка ошибок**: Добавлена проверка формата JSON ответа
- **Обновлены сообщения**: Изменены уведомления для отражения работы с API

### Удалено
- **Зависимость cheerio**: Удалена библиотека для парсинга HTML, так как больше не используется
- **Зависимость @types/cheerio**: Удалены типы для cheerio

### Технические улучшения
- **Более надежные запросы**: API предоставляет структурированные данные вместо парсинга HTML
- **Лучшая производительность**: Убрана необходимость парсить HTML
- **Типобезопасность**: Добавлены строгие типы для API ответов

### Структура API ответа
```json
{
    "page_number": 1,
    "items_per_page": 50,
    "items_count": 9,
    "items": [
        {
            "bank_name": "ФИНСТАР БАНК",
            "current_success_percent": 85.71,
            "unavailable_seconds_month": 757,
            "unavailable_seconds_year": 2860
        }
    ],
    "success": true
}
```

### Обратная совместимость
- ✅ Все существующие команды бота работают без изменений
- ✅ Логика уведомлений осталась прежней
- ✅ Конфигурация через переменные окружения не изменилась 